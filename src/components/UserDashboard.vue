<template>
  <div class="container mt-5">
    <div class="card shadow-sm">
      <div class="card-body">
        <h2 class="mb-4">π£ μ‚¬μ©μ λ€μ‹λ³΄λ“</h2>
        <p><strong>μ•λ…•ν•μ„Έμ”, {{ user.name }}λ‹!</strong></p>
        <p>μμ•½ λ‚΄μ—­μ„ ν™•μΈν•κ³  μ΅°ν™© μ •λ³΄λ¥Ό ν™•μΈν•΄λ³΄μ„Έμ”.</p>

        <router-link to="/reservations" class="btn btn-outline-primary me-2">λ‚΄ μμ•½ μ΅°ν</router-link>
        <router-link to="/tide" class="btn btn-outline-secondary">μ¤λμ λ¬Όλ•ν‘</router-link>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import axios from 'axios'

const user = ref({ name: '' })

onMounted(async () => {
  const token = localStorage.getItem('token')
  try {
    const res = await axios.get('/api/user/profile', {
      headers: { Authorization: `Bearer ${token}` }
    })
    user.value = res.data
  } catch (err) {
    alert('μ‚¬μ©μ μ •λ³΄λ¥Ό λ¶λ¬μ¬ μ μ—†μµλ‹λ‹¤.')
  }
})
</script>
